{
  "version": 3,
  "sources": ["../src/index.ts", "../src/use-effect-event.tsx"],
  "sourcesContent": ["export { useEffectEvent } from './use-effect-event';\n", "/* eslint-disable react-hooks/rules-of-hooks */\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport * as React from 'react';\n\ntype AnyFunction = (...args: any[]) => any;\n\n/**\n * Designed to approximate the behavior on `experimental_useEffectEvent` as best\n * as possible until its stable release, and back-fill it as a shim as needed.\n */\nexport function useEffectEvent<T extends AnyFunction>(callback?: T): T {\n  // See https://github.com/webpack/webpack/issues/14814\n  if (typeof (React as any)[new OpaqueString('useEffectEvent').toString()] === 'function') {\n    // @ts-expect-error\n    return React.useEffectEvent(callback);\n  }\n\n  const ref = React.useRef<AnyFunction | undefined>(() => {\n    throw new Error('Cannot call an event handler while rendering.');\n  });\n  // See https://github.com/webpack/webpack/issues/14814\n  if (typeof (React as any)[new OpaqueString('useInsertionEffect').toString()] === 'function') {\n    React.useInsertionEffect(() => {\n      ref.current = callback;\n    });\n  } else {\n    useLayoutEffect(() => {\n      ref.current = callback;\n    });\n  }\n\n  useLayoutEffect(() => {\n    ref.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => ref.current?.(...args)) as T, []);\n}\n\nclass OpaqueString {\n  private string: string;\n  constructor(string: string) {\n    this.string = string;\n  }\n  toString() {\n    return this.string;\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,wBAAAA;AAAA;AAAA;;;ACCA,qCAAgC;AAChC,YAAuB;AAQhB,SAASC,gBAAsC,UAAiB;AAErE,MAAI,OAAQ,MAAc,IAAI,aAAa,gBAAgB,EAAE,SAAS,CAAC,MAAM,YAAY;AAEvF,WAAa,qBAAe,QAAQ;AAAA,EACtC;AAEA,QAAM,MAAY,aAAgC,MAAM;AACtD,UAAM,IAAI,MAAM,+CAA+C;AAAA,EACjE,CAAC;AAED,MAAI,OAAQ,MAAc,IAAI,aAAa,oBAAoB,EAAE,SAAS,CAAC,MAAM,YAAY;AAC3F,IAAM,yBAAmB,MAAM;AAC7B,UAAI,UAAU;AAAA,IAChB,CAAC;AAAA,EACH,OAAO;AACL,wDAAgB,MAAM;AACpB,UAAI,UAAU;AAAA,IAChB,CAAC;AAAA,EACH;AAEA,sDAAgB,MAAM;AACpB,QAAI,UAAU;AAAA,EAChB,CAAC;AAGD,SAAa,cAAQ,MAAO,IAAI,SAAS,IAAI,UAAU,GAAG,IAAI,GAAS,CAAC,CAAC;AAC3E;AAEA,IAAM,eAAN,MAAmB;AAAA,EACT;AAAA,EACR,YAAY,QAAgB;AAC1B,SAAK,SAAS;AAAA,EAChB;AAAA,EACA,WAAW;AACT,WAAO,KAAK;AAAA,EACd;AACF;",
  "names": ["useEffectEvent", "useEffectEvent"]
}
